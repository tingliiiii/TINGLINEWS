<nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand ms-2 logo" href="/tinglinews">TINGLINEWS</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#main-menu"
            aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="main-menu" aria-labelledby="main-menuLabel">
            <div class="offcanvas-header">
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav mx-auto ms-md-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="/tinglinews/">首頁</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html">即時</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=1">政治</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=2">社會</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=3">國際</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=4">環境</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=5">文化</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=6">生活</a></li>
                    <li class="nav-item"><a class="nav-link" href="/tinglinews/list.html?id=7">娛樂</a></li>
                </ul>
                <div class="d-flex justify-content-center mt-3 my-lg-auto me-0 me-lg-4">
                    <a href="/tinglinews/user/login.html" class="login btn btn-outline-primary mx-2">登入</a>
                    <a href="/tinglinews/user/register.html" class="signup btn btn-primary mx-2">註冊</a>
                </div>
            </div>
        </div>

    </div>
</nav>
<script>

    //    const currentPath = window.location.pathname;
    // 	console.log(currentPath);

    //     $('.nav-link').each((_, link) => {
    //         const navlink = $(link);
    //         if (navlink.attr('href') == currentPath) {
    //             navlink.addClass('active');
    //         } else {
    //             navlink.removeClass('active');
    //         }
    //     });

    const href = window.location.href;
    console.log('window.location.href: '+href);

    $('.nav-link').each(function () {
        if (this.href === href) {
            $(this).addClass('active');
        } else {
            $(this).removeClass('active');
        }
    });

    $('.nav-link').on('click', function () {
        $('.nav-link').removeClass('active');
        $(this).addClass('active');
    });


    $('.logout-btn').on('click', (event) => {
        event.preventDefault();
        sessionStorage.clear();
        window.location.replace('/tinglinews');
    });

</script>